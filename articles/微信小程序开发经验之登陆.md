小程序一般是在app onLaunch程序初始化时，检测用户是否登录过，（查看localStorage中是否有登录标志），然后监听用户的session状态是否过期，没有过期就直接进行下一步，过期了先去重新登录再进行下一步操作。



登录系统设计方面，无论是小程序还是app分为两种：



一种是首页中是否有和用户相关的信息获取展示模块（比如获取用户的报名课程，任务，扇贝阅读app，不背单词app），这种需要在程序启动时检测session是否过期，如果过期了，这时应该在进入首页前，就截断用户操作（不然，用户获取不到属于他的正确信息），界面给出一个提示进行重新登陆或者路由跳转到重新登陆界面，登录完成之后再返回到首页。



另一种是首页中没有和用户相关的信息（比如获取用户的报名课程，大多都是系统的推荐相关，分类展示信息，比如美团app），用户的信息一般放在 其他的tab（我的页面）中， 这种就不需要做一个明显的session_key过期的重新登陆模式，因为之所以要重新登录主要是和用户的信息有关系，首页不需要获取用户信息，就没必要做出一个提示要用户重新登录，一般是在用户无感知的情况下，系统自动进行了重新登录，本地存储最新的登录标志。当用户手动切换到到其他tab的时候，app本地已经进行过重新登陆了，用户可以不受干扰的继续使用app。