
---
2020.6.17
---
同源策略、CSP和CORS之间的关系：

同源策略就是说同源页面随你瞎搞，但是不同源之间想瞎搞只能通过浏览器提供的手段来搞：
  
- 读取数据和操作 DOM 要用跨文档机制 window.postMessage
- XMLHttpRequest 和 Fetch 跨域请求要使用 CORS（跨域资源共享） 机制
- 引用第三方资源要使用 CSP（内容安全策略） ，减少 XSS 安全问题

安全和自由之间找一个平衡点

**cookie 中有 HttpOnly属性**
跨站脚本攻击XSS： 注入恶意脚本，通过恶意脚本将用户的数据上传到黑客的服务器上


CSRF攻击（Cross-site-request-forgery）：跨站请求伪造
黑客引诱用户打开黑客的网站，在黑客的网站中，利用用户的登录状态发起的跨站请求。简单来讲，CSRF攻击就是黑客利用了用户的登录状态，并通过第三方的站点来做一些坏事。

要进行CSRF攻击要具备三个必要条件：

和XSS不同的是，CSRF攻击不需要将恶意代码注入用户的页面，仅仅是利用服务器的漏洞和用户的登录状态来实施攻击。

**如何防止 CSRF 攻击？**
- 充分利用好 Cookie 的 SameSite属性
- 验证请求的来源站点。在服务器端验证请求来源的站点，HTTP请求头中Referer和Origin属性。
- CSRF Token

**浏览器架构**

浏览器多进程架构

安全沙箱

**网络安全HTTPS**
http明文，中间人攻击

对称加密：加密和解密使用相同的密钥

非对称加密：